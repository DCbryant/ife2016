<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        input{
            vertical-align: 7px;
        }
        .choose{
            background: red;
            color: #fff;
            line-height: 50px;
        }
        .create{
            width: 50px;
            height: 50px;
            background: aqua;
            margin-left: 10px;
            float: left;
            text-align: center;
        }
    </style>
</head>
<body>
    <textarea rows="10" cols="50"></textarea>
    <input type="text">
    <input type="button" value="查询">
    <div id="container">
        <!--<div class="create"><span class="choose">200</span></div>-->
    <script>
        var textarea = document.getElementsByTagName('textarea')[0];
        var container = document.getElementById('container');
        var input = document.getElementsByTagName('input');
        var text = input[0];
        var btn = input[1];
        var arr = [];
        //返回textarea格式化字符串的数组
        function filterValue(value) {
            var reg = /[^a-zA-Z0-9\u4e00-\u9fa5]+/g;
            value = value.replace(reg, " ");
            var arr = [];
            arr = value.split(' ');
            return arr;
        }
        btn.onclick = function () {
            var str = text.value.trim();
            var arrs = filterValue(textarea.value);
            for(var i=0;i<arrs.length;i++){
                if(arrs[i].indexOf(str.value)>-1){
                    var a = arr.push(arrs[i]);
                    return a;
                }
            }
            render(str,a);
        }
           
      

       function render(str,arr) {
        container.innerHTML = arr.map(function(d) {
            if (str != null && str.length > 0) {
                d = d.replace(new RegExp(str, "g"), "<span class='select'>" + str + "</span>");
            }
            return '<div>' + d + '</div>';
        }).join('');
      }
    </script>
</body>
</html>